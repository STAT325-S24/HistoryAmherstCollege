---
title: "Example Analysis"
page-layout: full
title-block-banner: true
---



```{r, include = FALSE}
library(tidyverse)
library(mosaic)
library(knitr)
#devtools::install_github("STAT325-S24/HistoryAmherstCollege")
library(HistoryAmherstCollege)
```



## Example analyses

The following is a glimpse of the package's dataframes along with a sample analysis using Named Entity Recognition (thanks to the `cleanNLP` package).

```{r}
#| eval: false
devtools::install_github("STAT325-S24/HistoryAmherstCollege")
```

```{r}
packageVersion("HistoryAmherstCollege")
glimpse(history_text)
mosaic::tally(~ chapter, data = history_text)
glimpse(history_anno)
mosaic::tally(~ entity$entity_type, data = history_anno)
glimpse(history_subtitles)
glimpse(history_tables)
glimpse(history_figures)
```

```{r}
history_anno$entity |>
  filter(entity_type == "PERSON") |>
  group_by(entity) |>
  count() |>
  arrange(desc(n)) |>
  head(6)
```

The above table shows us the six most common names in the book.
Some familiar ones immediately pop out, such as President Hitchcock, the eponym of the "Hitchcock Residence Hall" and one of the founding members of the American Statistical Association.

Note that `sabbath` is incorrectly listed as a person:

```{r}
history_text |>
  filter(str_detect(text, "Sabbath")) |>
  select(-paragraph, -page_num) |> 
  kable()
```

```{r}
history_anno$token |>
  filter(upos == "NOUN") |>
  group_by(token) |>
  count() |>
  arrange(desc(n)) |>
  head(6)
```

The above table displays the six most common nouns in the text.

